# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø–æ–∫–∞–∑–∞ –∫–∞—Ä—Ç–æ—á–µ–∫

## –ü—Ä–æ–±–ª–µ–º–∞
–õ–æ–≥–∏–∫–∞ –ø–æ–∫–∞–∑–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –æ–ø–∏—Å–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã—Ö –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏.

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```typescript
// SessionScreen.tsx - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
const displayMode = DisplayMode.WORD; // –í—Å–µ–≥–¥–∞ WORD
const direction = ReviewDirection.KNOWN_TO_LEARNING; // –í—Å–µ–≥–¥–∞ K‚ÜíL
```

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```typescript
// SessionScreen.tsx - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
const displayMode = SpacedRepetitionAdapter.getDisplayMode(nextCard);
const direction = SpacedRepetitionAdapter.getReviewDirection(nextCard);
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –≤ SpacedRepetitionAdapter
```typescript
// spacedRepetitionAdapter.ts
static getDisplayMode(userCard: UserCardWithContent): DisplayMode {
  const card = this.userCardToCard(userCard);
  return SpacedRepetitionService.getDisplayMode(card);
}

static getReviewDirection(userCard: UserCardWithContent): ReviewDirection {
  const card = this.userCardToCard(userCard);
  return SpacedRepetitionService.getReviewDirection(card);
}
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã
```typescript
import { UserCardWithContent, LegacyCard, DisplayMode, ReviewDirection } from '../types';
```

## –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–∫–∞–∑–∞ –∫–∞—Ä—Ç–æ—á–µ–∫

### üéØ –†–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ –ø—Ä–æ–≥—Ä–µ—Å—Å—É:

| –ü—Ä–æ–≥—Ä–µ—Å—Å | –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------|----------|
| 0-19% | **DEMONSTRATION** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∫–∞–∑ –ø–µ—Ä–µ–≤–æ–¥–∞ —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫ |
| 20-49% | **WORD** | –ü–æ–∫–∞–∑ —Å–ª–æ–≤–∞, –ø–µ—Ä–µ–≤–æ–¥ –ø–æ —Ç–∞–ø—É |
| 50-69% | **–ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ** | –ß–µ—Ç–Ω—ã–µ: WORD, –ù–µ—á–µ—Ç–Ω—ã–µ: TRANSLATION |
| 70-100% | **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π** | –ß–µ—Ç–Ω—ã–µ: TRANSLATION, –ù–µ—á–µ—Ç–Ω—ã–µ: INPUT |

### üîÑ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è –ø–æ –ø—Ä–æ–≥—Ä–µ—Å—Å—É:

| –ü—Ä–æ–≥—Ä–µ—Å—Å | –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------------|----------|
| 0-59% | **K‚ÜíL** | –†—É—Å—Å–∫–æ–µ ‚Üí –ò—Å–ø–∞–Ω—Å–∫–æ–µ (100%) |
| 60-79% | **–°–º–µ—à–∞–Ω–Ω–æ–µ** | K‚ÜíL (70%), L‚ÜíK (30%) |
| 80-100% | **–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ** | K‚ÜíL (50%), L‚ÜíK (50%) |

### ‚è∞ –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π:

| –ü—Ä–æ–≥—Ä–µ—Å—Å | –ò–Ω—Ç–µ—Ä–≤–∞–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|----------|
| 0-29% | **10 —Å–µ–∫—É–Ω–¥** | –ë—ã—Å—Ç—Ä–æ–µ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ |
| 30-69% | **30 —Å–µ–∫—É–Ω–¥** | –°—Ä–µ–¥–Ω–µ–µ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ |
| 70-100% | **1 –º–∏–Ω—É—Ç–∞** | –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ |

## –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

### 1. –í—ã–±–æ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏
```typescript
// SessionScreen.tsx:75
const dueCards = SpacedRepetitionAdapter.getDueCards(state.cards);
const nextCard = dueCards[0]; // –ü–µ—Ä–≤–∞—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ dueAt
```

### 2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞
```typescript
// SessionScreen.tsx:82-83
const displayMode = SpacedRepetitionAdapter.getDisplayMode(nextCard);
const direction = SpacedRepetitionAdapter.getReviewDirection(nextCard);
```

### 3. –õ–æ–≥–∏–∫–∞ —Ä–µ–∂–∏–º–æ–≤ (SpacedRepetitionService)
```typescript
static getDisplayMode(card: Card): DisplayMode {
  if (progress < 20) return DisplayMode.DEMONSTRATION;
  else if (progress < 50) return DisplayMode.WORD;
  else if (progress < 70) {
    return card.reviewCount % 2 === 0 ? DisplayMode.WORD : DisplayMode.TRANSLATION;
  } else {
    return card.reviewCount % 2 === 0 ? DisplayMode.TRANSLATION : DisplayMode.INPUT;
  }
}
```

### 4. –õ–æ–≥–∏–∫–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
```typescript
static getReviewDirection(card: Card): ReviewDirection {
  if (progress >= 80) {
    return Math.random() < 0.5 ? L_TO_K : K_TO_L;
  } else if (progress >= 60) {
    return Math.random() < 0.3 ? L_TO_K : K_TO_L;
  }
  return ReviewDirection.KNOWN_TO_LEARNING;
}
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ –†–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ –ø—Ä–æ–≥—Ä–µ—Å—Å—É
- ‚úÖ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –∫ —É—Ä–æ–≤–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å—É
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã—Ö –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –õ–∏–Ω—Ç–µ—Ä –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–æ–∫

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**:
   ```bash
   npm run dev
   ```

2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞**:
   - –ù–æ–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (0-19%): –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
   - –ò–∑—É—á–∞–µ–º—ã–µ (20-49%): –†–µ–∂–∏–º "–°–ª–æ–≤–æ"
   - –ü–æ–≤—Ç–æ—Ä—è–µ–º—ã–µ (50-69%): –ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ WORD/TRANSLATION
   - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ (70-100%): –ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ TRANSLATION/INPUT

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è**:
   - –ù–∏–∑–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: —Ç–æ–ª—å–∫–æ K‚ÜíL
   - –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: 30% L‚ÜíK
   - –í—ã—Å–æ–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: 50% L‚ÜíK

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã**:
   - –û—Ç–≤–µ—Ç—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–∞–∑–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∞—Ä—Ç–æ—á–µ–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ reviewCount —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–æ–∫–∞–∑–µ
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ dueAt –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º






